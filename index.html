<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>GUESS</title>
</head>
<body>
  <input id='input'></input>
  <input type='button' value='GUESS' id='guess-btn' disabled>
  <input type='button' value='START' id='start-btn'>
  <p id='tip'></p>
  <script>
    const NUMBER_RANGE = 100;
    const CHANCES_NUMBER = 10;
    const TIPS = ['Too low!', 'Correct!', 'Too high!'];

    const guessBtn = document.querySelector('#guess-btn');
    const startBtn = document.querySelector('#start-btn');
    const input = document.querySelector('#input');
    const tip = document.querySelector('#tip');

    guessBtn.addEventListener('click', guessComparing);
    input.addEventListener('keydown', e => {
      if(e.keyCode === 13) {
        guessComparing();
      }
    });
    startBtn.addEventListener('click', start);

    function guessComparing() {
      if(!guessBtn.disabled) {
        const inputValue = Number(input.value);
        remainChances = remainChances - 1;
        let tipValue = '';
        if(remainChances) {
          tipValue = 'You remain ' + remainChances + ' chances.';

          if(inputValue < randomNumber) {
            tipValue = TIPS[0] + tipValue;
          } else if(inputValue > randomNumber) {
            tipValue = TIPS[2] + tipValue;
          } else if(inputValue === randomNumber) {
            tipValue = TIPS[1];
            gameOver(true);
          }
        } else {
          tipValue = 'Opps! You missed the last chance! The mystery number is ' + randomNumber + '. You can restart and guess again.';
          gameOver(false);
        }
        tip.textContent = tipValue;
      }
    }

    function start() {
      tip.textContent = '';
      input.value = '';
      randomNumber = getRandomNumber();
      remainChances = CHANCES_NUMBER;
      guessBtn.disabled = false;

      console.log(randomNumber);
    }

    function getRandomNumber() {
      return Math.ceil(Math.random() * NUMBER_RANGE);
    }

    function gameOver(won) {
      guessBtn.disabled = true;
    }
  </script>
</body>
</html>
